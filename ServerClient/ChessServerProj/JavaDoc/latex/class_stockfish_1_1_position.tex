\hypertarget{class_stockfish_1_1_position}{}\doxysection{Position}
\label{class_stockfish_1_1_position}\index{Position@{Position}}


\doxysubsection{Member Function Documentation}
\mbox{\Hypertarget{class_stockfish_1_1_position_a7f32cf15cdc4d10963b60459608519b4}\label{class_stockfish_1_1_position_a7f32cf15cdc4d10963b60459608519b4}} 
\index{Position@{Position}!fen@{fen}}
\index{fen@{fen}!Position@{Position}}
\doxysubsubsection{\texorpdfstring{fen()}{fen()}}
{\footnotesize\ttfamily string fen (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const}

\mbox{\hyperlink{class_stockfish_1_1_position_a7f32cf15cdc4d10963b60459608519b4}{Position\+::fen()}} returns a FEN representation of the position. In case of Chess960 the Shredder-\/\+FEN notation is used. This is mainly a debugging function. \mbox{\Hypertarget{class_stockfish_1_1_position_a2121cc1414214f988fe678821ae5371d}\label{class_stockfish_1_1_position_a2121cc1414214f988fe678821ae5371d}} 
\index{Position@{Position}!attackers\_to@{attackers\_to}}
\index{attackers\_to@{attackers\_to}!Position@{Position}}
\doxysubsubsection{\texorpdfstring{attackers\_to()}{attackers\_to()}}
{\footnotesize\ttfamily Bitboard attackers\+\_\+to (\begin{DoxyParamCaption}\item[{Square}]{s,  }\item[{Bitboard}]{occupied }\end{DoxyParamCaption}) const}

Position\+::attackers\+\_\+to() computes a bitboard of all pieces which attack a given square. Slider attacks use the occupied bitboard to indicate occupancy. \mbox{\Hypertarget{class_stockfish_1_1_position_a35bf127548e880786cca55bdf09b7f50}\label{class_stockfish_1_1_position_a35bf127548e880786cca55bdf09b7f50}} 
\index{Position@{Position}!slider\_blockers@{slider\_blockers}}
\index{slider\_blockers@{slider\_blockers}!Position@{Position}}
\doxysubsubsection{\texorpdfstring{slider\_blockers()}{slider\_blockers()}}
{\footnotesize\ttfamily Bitboard slider\+\_\+blockers (\begin{DoxyParamCaption}\item[{Bitboard}]{sliders,  }\item[{Square}]{s,  }\item[{Bitboard \&}]{pinners }\end{DoxyParamCaption}) const}

\mbox{\hyperlink{class_stockfish_1_1_position_a35bf127548e880786cca55bdf09b7f50}{Position\+::slider\+\_\+blockers()}} returns a bitboard of all the pieces (both colors) that are blocking attacks on the square \textquotesingle{}s\textquotesingle{} from \textquotesingle{}sliders\textquotesingle{}. A piece blocks a slider if removing that piece from the board would result in a position where square \textquotesingle{}s\textquotesingle{} is attacked. For example, a king-\/attack blocking piece can be either a pinned or a discovered check piece, according if its color is the opposite or the same of the color of the slider. \mbox{\Hypertarget{class_stockfish_1_1_position_a5c97ff268fb33c4882611eaf26ebfa89}\label{class_stockfish_1_1_position_a5c97ff268fb33c4882611eaf26ebfa89}} 
\index{Position@{Position}!pseudo\_legal@{pseudo\_legal}}
\index{pseudo\_legal@{pseudo\_legal}!Position@{Position}}
\doxysubsubsection{\texorpdfstring{pseudo\_legal()}{pseudo\_legal()}}
{\footnotesize\ttfamily bool pseudo\+\_\+legal (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{namespace_stockfish_a576fe67231d88b6faf585e231bf99611}{Move}}}]{m }\end{DoxyParamCaption}) const}

\mbox{\hyperlink{class_stockfish_1_1_position_a5c97ff268fb33c4882611eaf26ebfa89}{Position\+::pseudo\+\_\+legal()}} takes a random move and tests whether the move is pseudo legal. It is used to validate moves from TT that can be corrupted due to SMP concurrent access or hash position key aliasing. \mbox{\Hypertarget{class_stockfish_1_1_position_af7e21b96496cb8ca578f2b014eeb054a}\label{class_stockfish_1_1_position_af7e21b96496cb8ca578f2b014eeb054a}} 
\index{Position@{Position}!do\_move@{do\_move}}
\index{do\_move@{do\_move}!Position@{Position}}
\doxysubsubsection{\texorpdfstring{do\_move()}{do\_move()}}
{\footnotesize\ttfamily void do\+\_\+move (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{namespace_stockfish_a576fe67231d88b6faf585e231bf99611}{Move}}}]{m,  }\item[{\mbox{\hyperlink{namespace_stockfish_struct_stockfish_1_1_state_info}{State\+Info}} \&}]{new\+St,  }\item[{bool}]{gives\+Check }\end{DoxyParamCaption})}

Position\+::do\+\_\+move() makes a move, and saves all information necessary to a \mbox{\hyperlink{namespace_stockfish_struct_stockfish_1_1_state_info}{State\+Info}} object. The move is assumed to be legal. Pseudo-\/legal moves should be filtered out before this function is called. \mbox{\Hypertarget{class_stockfish_1_1_position_a9a218c5cac6374b2ca206add7bf6bd01}\label{class_stockfish_1_1_position_a9a218c5cac6374b2ca206add7bf6bd01}} 
\index{Position@{Position}!undo\_move@{undo\_move}}
\index{undo\_move@{undo\_move}!Position@{Position}}
\doxysubsubsection{\texorpdfstring{undo\_move()}{undo\_move()}}
{\footnotesize\ttfamily void undo\+\_\+move (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{namespace_stockfish_a576fe67231d88b6faf585e231bf99611}{Move}}}]{m }\end{DoxyParamCaption})}

\mbox{\hyperlink{class_stockfish_1_1_position_a9a218c5cac6374b2ca206add7bf6bd01}{Position\+::undo\+\_\+move()}} unmakes a move. When it returns, the position should be restored to exactly the same state as before the move was made. \mbox{\Hypertarget{class_stockfish_1_1_position_a6cce099c48b2a932739d588556185bd0}\label{class_stockfish_1_1_position_a6cce099c48b2a932739d588556185bd0}} 
\index{Position@{Position}!do\_null\_move@{do\_null\_move}}
\index{do\_null\_move@{do\_null\_move}!Position@{Position}}
\doxysubsubsection{\texorpdfstring{do\_null\_move()}{do\_null\_move()}}
{\footnotesize\ttfamily void do\+\_\+null\+\_\+move (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{namespace_stockfish_struct_stockfish_1_1_state_info}{State\+Info}} \&}]{new\+St }\end{DoxyParamCaption})}

\mbox{\hyperlink{class_stockfish_1_1_position_a6cce099c48b2a932739d588556185bd0}{Position\+::do\+\_\+null\+\_\+move()}} is used to do a \char`\"{}null move\char`\"{}\+: it flips the side to move without executing any move on the board. \mbox{\Hypertarget{class_stockfish_1_1_position_a088533df8cde70e931fe921dacaff06e}\label{class_stockfish_1_1_position_a088533df8cde70e931fe921dacaff06e}} 
\index{Position@{Position}!see\_ge@{see\_ge}}
\index{see\_ge@{see\_ge}!Position@{Position}}
\doxysubsubsection{\texorpdfstring{see\_ge()}{see\_ge()}}
{\footnotesize\ttfamily bool see\+\_\+ge (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{namespace_stockfish_a576fe67231d88b6faf585e231bf99611}{Move}}}]{m,  }\item[{Value}]{threshold = {\ttfamily VALUE\+\_\+ZERO} }\end{DoxyParamCaption}) const}

\mbox{\hyperlink{class_stockfish_1_1_position_a088533df8cde70e931fe921dacaff06e}{Position\+::see\+\_\+ge}} (Static Exchange Evaluation Greater or Equal) tests if the SEE value of move is greater or equal to the given threshold. We\textquotesingle{}ll use an algorithm similar to alpha-\/beta pruning with a null window. \mbox{\Hypertarget{class_stockfish_1_1_position_afa0c628b3243ac369635bb558be718fe}\label{class_stockfish_1_1_position_afa0c628b3243ac369635bb558be718fe}} 
\index{Position@{Position}!key\_after@{key\_after}}
\index{key\_after@{key\_after}!Position@{Position}}
\doxysubsubsection{\texorpdfstring{key\_after()}{key\_after()}}
{\footnotesize\ttfamily Key key\+\_\+after (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{namespace_stockfish_a576fe67231d88b6faf585e231bf99611}{Move}}}]{m }\end{DoxyParamCaption}) const}

\mbox{\hyperlink{class_stockfish_1_1_position_afa0c628b3243ac369635bb558be718fe}{Position\+::key\+\_\+after()}} computes the new hash key after the given move. Needed for speculative prefetch. It doesn\textquotesingle{}t recognize special moves like castling, en passant and promotions. \mbox{\Hypertarget{class_stockfish_1_1_position_af8eaac7ae2542bcfc053e2f848e12436}\label{class_stockfish_1_1_position_af8eaac7ae2542bcfc053e2f848e12436}} 
\index{Position@{Position}!is\_draw@{is\_draw}}
\index{is\_draw@{is\_draw}!Position@{Position}}
\doxysubsubsection{\texorpdfstring{is\_draw()}{is\_draw()}}
{\footnotesize\ttfamily bool is\+\_\+draw (\begin{DoxyParamCaption}\item[{int}]{ply }\end{DoxyParamCaption}) const}

\mbox{\hyperlink{class_stockfish_1_1_position_af8eaac7ae2542bcfc053e2f848e12436}{Position\+::is\+\_\+draw()}} tests whether the position is drawn by 50-\/move rule or by repetition. It does not detect stalemates. \mbox{\Hypertarget{class_stockfish_1_1_position_a8f91197de3643d7af54822b33e4d29a5}\label{class_stockfish_1_1_position_a8f91197de3643d7af54822b33e4d29a5}} 
\index{Position@{Position}!has\_game\_cycle@{has\_game\_cycle}}
\index{has\_game\_cycle@{has\_game\_cycle}!Position@{Position}}
\doxysubsubsection{\texorpdfstring{has\_game\_cycle()}{has\_game\_cycle()}}
{\footnotesize\ttfamily bool has\+\_\+game\+\_\+cycle (\begin{DoxyParamCaption}\item[{int}]{ply }\end{DoxyParamCaption}) const}

\mbox{\hyperlink{class_stockfish_1_1_position_a8f91197de3643d7af54822b33e4d29a5}{Position\+::has\+\_\+game\+\_\+cycle()}} tests if the position has a move which draws by repetition, or an earlier position has a move that directly reaches the current position. \mbox{\Hypertarget{class_stockfish_1_1_position_ab6a96131312a6bfcef15a77792677555}\label{class_stockfish_1_1_position_ab6a96131312a6bfcef15a77792677555}} 
\index{Position@{Position}!pos\_is\_ok@{pos\_is\_ok}}
\index{pos\_is\_ok@{pos\_is\_ok}!Position@{Position}}
\doxysubsubsection{\texorpdfstring{pos\_is\_ok()}{pos\_is\_ok()}}
{\footnotesize\ttfamily bool pos\+\_\+is\+\_\+ok (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const}

\mbox{\hyperlink{class_stockfish_1_1_position_ab6a96131312a6bfcef15a77792677555}{Position\+::pos\+\_\+is\+\_\+ok()}} performs some consistency checks for the position object and raises an asserts if something wrong is detected. This is meant to be helpful when debugging. \mbox{\Hypertarget{class_stockfish_1_1_position_a126cb0362ae2e7935520fb27343bad31}\label{class_stockfish_1_1_position_a126cb0362ae2e7935520fb27343bad31}} 
\index{Position@{Position}!flip@{flip}}
\index{flip@{flip}!Position@{Position}}
\doxysubsubsection{\texorpdfstring{flip()}{flip()}}
{\footnotesize\ttfamily void flip (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}

\mbox{\hyperlink{class_stockfish_1_1_position_a126cb0362ae2e7935520fb27343bad31}{Position\+::flip()}} flips position with the white and black sides reversed. This is only useful for debugging e.\+g. for finding evaluation symmetry bugs. 

The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
assets/\+Stockfish/stockfish\+\_\+14.\+1\+\_\+win\+\_\+x64\+\_\+avx2/stockfish\+\_\+14.\+1\+\_\+src/src/position.\+h\item 
assets/\+Stockfish/stockfish\+\_\+14.\+1\+\_\+win\+\_\+x64\+\_\+avx2/stockfish\+\_\+14.\+1\+\_\+src/src/position.\+cpp\end{DoxyCompactItemize}
